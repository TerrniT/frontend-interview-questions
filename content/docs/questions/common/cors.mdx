---
title: CORS
description: Что такое CORS?
---

Короче, есть такая тема в браузерах — Same-Origin Policy (SOP). Это типа браузерный коп. Он следит, чтобы твой скрипт с одного сайта (например, myshop.com) не мог просто так, без спроса, залезть и стащить данные (типа твои кукисы или инфу из профиля) с другого сайта, где ты открыт (например, mybank.com). Это дико важно для безопасности, чтобы всякие хакерские сайты не тырили твои данные пока ты сидишь в интернете.
Но в современном вебе фронт (твой JS в браузере) постоянно должен общаться с бэком или разными API, которые зачастую живут на других доменах (api.myshop.com, paymentservice.com и т.д.). SOP по умолчанию это блокирует.
Вот тут и появляется CORS (Cross-Origin Resource Sharing). Это типа официальный механизм "договорняка". Сервер, который держит данные (например, api.myshop.com), используя специальные HTTP-заголовки (самый главный — Access-Control-Allow-Origin), как бы говорит браузеру: "ОК, я разрешаю вот этому домену (myshop.com) брать мои данные".

Краткий Ответ:
Механизм безопасности, ограничивающий кросс-доменные запросы.

Зачем он нужен?
Чтобы безопасно обойти SOP. Он позволяет серверам явно дать разрешение определенным сторонним доменам получать свои данные. Вместо полного запрета (SOP) или полного разрешения (что было бы дырой в безопасности), CORS предлагает контролируемый доступ. Сервер сам решает, кому он доверяет.
Если сервер не дал такое разрешение (не прислал правильные CORS-заголовки в ответ на запрос с другого домена), браузер тупо блокирует ответ, и ты видишь ту самую бесячую CORS-ошибку в консоли. И это не баг, а фича безопасности! И фиксится она на стороне сервера, а не на фронтенде.

Кто настраивает CORS? Бэкендер или фронтендер
Основная настройка CORS всегда происходит на стороне бэкенда (сервера).
Вот почему:
1. CORS — это механизм, который сервер использует, чтобы сообщить браузеру, кто имеет право получать его ресурсы.
2. Это делается путем отправки специальных HTTP-заголовков в ответе сервера (например, Access-Control-Allow-Origin, Access-Control-Allow-Methods, Access-Control-Allow-Headers).
3. Управлять тем, какие заголовки отправляет сервер, может только код, который выполняется на этом сервере, или его конфигурация (например, веб-сервер типа Nginx или Apache).
Фронтенд-разработчик:
- Инициирует кросс-доменный запрос из браузера.
- Сталкивается с ошибками CORS, если сервер не настроен правильно.
- Не может "включить" CORS или изменить заголовки ответа другого сервера со своей стороны в браузере из соображений безопасности.
- Может использовать обходные пути, например, настроить прокси-сервер на своем домене, через который будут идти запросы к внешнему API. Это позволяет обойти проблему CORS, так как для браузера запрос идет к тому же домену, а уже прокси на стороне сервера перенаправляет его дальше.
Бэкенд-разработчик:
- Настраивает веб-сервер или фреймворк бэкенда (Node.js/Express, Python/Django/Flask, Ruby on Rails, Java/Spring и т.д.) для отправки правильных CORS-заголовков в ответах.
- Определяет, какие источники (домены, порты, протоколы) имеют право доступа (Access-Control-Allow-Origin).
- Определяет, какие методы HTTP (GET, POST, PUT, DELETE и т.д.) разрешены для кросс-доменных запросов (Access-Control-Allow-Methods).
- Определяет, какие кастомные заголовки запроса разрешены (Access-Control-Allow-Headers).
Таким образом, если у вас возникает CORS-ошибка при запросе с фронтенда к бэкенду, решать эту проблему нужно, как правило, на стороне бэкенда, убедившись, что он корректно настроен для разрешения запросов с домена вашего фронтенда.

Резюме: CORS — ЭТО СВОЕГО РОДА "БЕЛЫЙ СПИСОК" ИЛИ "ПЕРЕГОВОРЫ" МЕЖДУ БРАУЗЕРОМ И СЕРВЕРОМ, ЧТОБЫ РАЗРЕШИТЬ КРОСС-ДОМЕННЫЕ ЗАПРОСЫ В КОНТРОЛИРУЕМОЙ И БЕЗОПАСНОЙ МАНЕРЕ.

Как обойти:
- Настроить Access-Control-Allow-Origin на сервере.
- Использовать proxy или JSONP (устаревший).
