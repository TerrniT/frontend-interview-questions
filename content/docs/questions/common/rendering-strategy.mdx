---
title: Стратегии рендернинга
description: Что это такое? Что за CSR, SSR, ISR, SSG и тд
---

## Разница между стратегиями рендеринга

В современных фронтенд-приложениях существует несколько **стратегий рендеринга**. Они определяют, **когда и где** будет отрисован HTML-контент: на клиенте, на сервере или заранее.

<Mermaid
  chart="
flowchart TD
    A[Стратегии рендеринга] --> B[CSR]
    A --> C[SSR]
    A --> D[SSG]
    A --> E[ISR]"
/>

### CSR — Client-Side Rendering (Рендеринг на клиенте)

HTML загружается **пустым**, весь контент и логика загружаются **через JavaScript** на стороне клиента.

<Mermaid
  chart="
sequenceDiagram
    participant Клиент
    participant Сервер
    Клиент->>Сервер: Запрос HTML
    Сервер-->>Клиент: Пустой HTML + JS
    Клиент->>Сервер: Запрос данных (API)
    Сервер-->>Клиент: JSON данные
    Клиент->>Клиент: Рендеринг контента"
/>

<Callout title="А как оно рендерится на клиенте (браузере)?">
 Про процесс рендера на клиенте и про все нюансы можно узнать на странице про [браузер](/docs/questions/common/browser)
</Callout>

#### Плюсы CSR
- Быстрый отклик после загрузки
- Нет нагрузки на сервер
- Полный контроль на клиенте

#### Минусы CSR
- Плохая SEO
- Медленный Time-to-Content
- Требуется JS для отображения

### SSR — Server-Side Rendering (Рендеринг на сервере)

Вот как работает процесс SSR и генерации веб-страниц:

<Mermaid
  chart="
sequenceDiagram
    participant Пользователь
    participant Браузер
    participant Сервер
    participant API/БазаДанных
    
    Пользователь->>Браузер: Переход по URL
    Браузер->>Сервер: Запрос страницы
    Сервер->>API/БазаДанных: Запрос данных
    API/БазаДанных-->>Сервер: Данные
    Сервер->>Сервер: Генерация HTML
    Сервер-->>Браузер: Готовый HTML
    Браузер->>Пользователь: Отображение страницы
    Браузер->>Браузер: Гидратация (оживление)
    Пользователь->>Браузер: Взаимодействие
    Браузер->>Сервер: Новый запрос (при навигации)"
/>

#### Пошаговый процесс SSR:

1. **Пользователь посещает URL**:  
   Пользователь переходит по адресу (например, example.com) через браузер.

2. **Сервер получает запрос**:  
   Браузер отправляет запрос на сервер, который определяет запрашиваемый маршрут.

3. **Получение данных**:  
   Сервер запрашивает необходимые данные из:
   - Баз данных
   - Внешних API
   - Других источников

4. **Генерация HTML**:  
   Сервер использует:
   - Шаблонизатор или фреймворк
   - Полученные данные
   - Предопределённую структуру страницы  
   Для создания готового HTML с контентом и стилями.

5. **Отправка страницы**:  
   Сервер отправляет полностью сгенерированную HTML-страницу в браузер.

6. **Отображение страницы**:  
   Браузер показывает страницу **без ожидания** загрузки JavaScript.

7. **Гидратация (оживление)**:  
   Вместе с HTML сервер отправляет JavaScript, который:
   - Превращает статичную страницу в интерактивное приложение
   - Добавляет обработчики событий (например, для кнопок)
   - Обеспечивает плавный переход к клиентскому рендерингу

8. **Повтор процесса**:  
   При переходе на другие страницы процесс повторяется.

#### Плюсы SSR
- Отличная SEO
- Быстрый First Contentful Paint
- Подходит для динамического контента

#### Минусы SSR
- Нагрузка на сервер
- Более сложная архитектура
- Задержка при первом запросе

### SSG — Static Site Generation (Статическая генерация)

HTML-страницы генерируются **на этапе билда** и размещаются как статические файлы.

<Mermaid
  chart="
gantt
    title Процесс SSG
    dateFormat  YYYY-MM-DD
    section Сборка
    Генерация страниц :a1, 2023-01-01, 1d
    section Развертывание
    Загрузка на CDN :after a1, 1d"
/>

**Плюсы SSG**:
- Молниеносная скорость
- Отличная SEO
- Почти нулевая нагрузка на сервер

**Минусы SSG**:
- Контент не обновляется без нового билда
- Не подходит для часто обновляемых страниц

### ISR — Incremental Static Regeneration (Инкрементальная генерация)

Комбинация **SSG + SSR**: страницы генерируются **на лету**, но кэшируются.

```tsx
export async function getStaticProps() {
  return {
    props: {},
    revalidate: 60, // страница пересобирается раз в 60 сек
  };
}
```

<Mermaid
  chart="
flowchart LR
    A[Запрос страницы] --> B{Есть в кэше?}
    B -->|Да| C[Отдать кэш]
    B -->|Нет| D[Сгенерировать новую]
    D --> E[Сохранить в кэш]"
/>

**Плюсы ISR**:
- Скорость SSG + актуальность SSR
- Гибкость обновления контента
- Отлично подходит для блогов, маркетплейсов

## Сравнительная таблица

<Mermaid
  chart="
graph LR
    CSR[CSR: Клиентский рендеринг] -->|Плюсы| C1[Быстрое взаимодействие]
    CSR -->|Минусы| C2[Плохая SEO]
    SSR[SSR: Серверный рендеринг] -->|Плюсы| S1[Отличная SEO]
    SSR -->|Минусы| S2[Нагрузка на сервер]
    SSG[SSG: Статическая генерация] -->|Плюсы| G1[Макс. скорость]
    SSG -->|Минусы| G2[Нужен билд]
    ISR[ISR: Инкрементальная] -->|Плюсы| I1[Скорость + актуальность]"
/>


| Стратегия рендеринга | Где рендерится? | SEO | Скорость загрузки | Обновление данных |
|----------------------|-----------------|-----|-------------------|-------------------|
| **CSR**                  | В браузере       | Плохо | Средняя          | Через API         |
| **SSR**                  | На сервере       | Отлично | Средняя          | На каждый запрос  |
| **SSG**                  | При билде        | Отлично | Очень быстрая    | Только при билде  |
| **ISR**                  | На сервере + кеш | Отлично | Быстрая         | Через revalidate  |


<Callout title="Вывод" type="success">
- **CSR** — для динамичных приложений, где SEO не важен
- **SSR** — для динамических публичных страниц
- **SSG** — для маркетинговых лендингов, блогов
- **ISR** — лучшее из двух миров: скорость и актуальность
</Callout>


### Ссылки
- [Habr: От статических страниц к гибридным архитектурам](https://habr.com/ru/companies/domclick/articles/855982/)
- [EN: What is Server-side Rendering (SSR)?](https://prismic.io/blog/what-is-ssr)
